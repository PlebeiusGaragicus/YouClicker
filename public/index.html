<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>YouClicker</title>
  <link rel="stylesheet" href="/styles.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js" integrity="sha512-Mq0x0A9n3qk2Vw4cTgE+g9b1eZbT6QCEk0nJf7k9h7m2c9k5c5m1Q9H9qVnCjW3pJg3gqgJ4rK2Z0Q0FQ8NQ3A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
  <header>
    <h1>YouClicker</h1>
    <p class="subtitle">Simple classroom clicker</p>
  </header>

  <main>
    <section class="card">
      <div class="tabs">
        <button id="tab-teacher" class="tab active">Teacher</button>
        <button id="tab-student" class="tab">Student</button>
      </div>

      <!-- Teacher View -->
      <div id="teacher-view" class="view">
        <div id="teacher-login" class="panel">
          <h2>Teacher Login</h2>
          <label>Access Code</label>
          <input id="teacher-code" type="password" placeholder="Enter access code" />
          <button id="teacher-login-btn">Login</button>
          <p id="teacher-login-msg" class="msg"></p>
        </div>

        <div id="teacher-controls" class="panel hidden">
          <h2>Question Lists</h2>
          <div class="toolbar">
            <button id="new-list-btn" class="secondary">New List</button>
            <button id="refresh-lists-btn" class="secondary">Refresh</button>
          </div>
          <ul id="lists" class="list"></ul>

          <div id="list-editor" class="panel hidden">
            <h3>Edit List</h3>
            <label>List Name</label>
            <input id="list-name" type="text" placeholder="e.g. Algebra - Quiz 1" />
            <div id="questions-container"></div>
            <div class="toolbar">
              <button id="add-question-btn" class="secondary">Add Question</button>
              <button id="save-list-btn">Save List</button>
            </div>
          </div>

          <div id="present-panel" class="hidden">
            <h3>Presenting</h3>
            <p><strong>Session ID:</strong> <span id="present-session-id">-</span></p>
            <p><a id="student-join-link" href="#" target="_blank">Student Join Link</a></p>
            <div class="toolbar">
              <button id="show-qr-btn" class="secondary">Show QR</button>
              <button id="begin-presentation-btn">Begin</button>
            </div>
          </div>

          <div id="presentation" class="presentation hidden">
            <div class="pres-header">
              <button id="pres-prev" class="secondary">Prev</button>
              <div class="pres-status">
                <span id="pres-index">1</span>/<span id="pres-total">1</span>
                &nbsp;|&nbsp; Students: <span id="sum-students">0</span>
              </div>
              <button id="pres-next" class="secondary">Next</button>
            </div>
            <div class="pres-body">
              <h2 id="pres-question">Question</h2>
              <div id="pres-choices" class="pres-choices"></div>
              <div class="toolbar">
                <button id="reveal-btn" class="secondary">Reveal Tally</button>
              </div>
              <ul id="sum-answers" class="answers"></ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Student View -->
      <div id="student-view" class="view hidden">
        <div class="panel">
          <h2>Join Session</h2>
          <label>Session ID</label>
          <input id="student-session-id" type="text" placeholder="Paste session ID" />
          <button id="student-join-btn">Join</button>
          <p id="student-id" class="msg"></p>
        </div>

        <div id="student-question" class="panel hidden">
          <h2 id="sq-text">Waiting for question...</h2>
          <div id="sq-choices" class="choices"></div>
          <ul id="sq-tally" class="answers hidden"></ul>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>Part of the rapidresponder suite.</p>
  </footer>

  <!-- QR Modal -->
  <div id="qr-modal" class="modal hidden">
    <div class="modal-content">
      <h3>Scan to Join</h3>
      <div id="qr"></div>
      <p><a id="qr-link" href="#" target="_blank"></a></p>
      <button id="qr-close" class="secondary">Close</button>
    </div>
  </div>

  <script src="/client.js"></script>
</body>
</html>
